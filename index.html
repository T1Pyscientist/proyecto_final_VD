<!DOCTYPE html>
<html lang="en">

  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
    <script src="./scripts/p5.sound.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8"/>
    <title>Spotify Rewind</title>
  </head>
  

  <body>

    <div id="nav">
      <h3>‡SpotifyID</h3> 
    </div>

    <section id="intro">
      <h1 style="margin-top: 10%;">Notas del Año</h1>
      <h2 style="margin: 3%; width: 600px; align-self: center;">Explorando el historial de streaming en Spotify</h2>

      <h3 class="text" style="margin: 5%; width: 80vw; align-self: center;">¡Bienvenidos a mi recuento musical del año! En esta página, compartiremos los momentos más destacados, cambios y descubrimientos de mi historial de streaming en Spotify. Prepárate para sumergirte en el mundo musical y explorar los ritmos que me acompañaron a lo largo de este año.</h3>
      <div style="height: 15vh;"></div>
    </section>

    <section id="tiempo-escuchado">
      <h2 class="title">Tiempo escuchado</h2>
      <h3 style="margin-top: 1%; width: 60vw;">Comenzando con una sorpresa reveladora, 
        el tiempo escuchado en Spotify durante este año fue de [insertar número de horas].
        Esto es equivalente a [insertar número de días] días de música.
        Sin embargo, varía mucho de un mes a otro, como se muestra en la gráfica a continuación.
      </h3>
      <h3 style="font-weight: bold;">Minutos de streaming por mes</h3>
      <div id="msPlayed" style="margin-top: 3%; margin-bottom: 15%;"></div>
    </section>


    <section id="historias-destacadas">
      <h2 class="title">Historias destacadas</h2>
      <h3 style="margin-top: 1%; width: 60vw;">
        El año musical no se trata solo de estadísticas, sino también de historias.
        Las canciones que escuchamos repetidas muchas veces pueden revelar algo sobre
        el momento que vivimos. Aquí hay algunas de las historias destacadas de este año.
      </h3>

      <div class="carousel-container">
        <div class="carousel">
          <div class="carousel-item">
            <h2>Stranger Things</h2>
            <h3>El album del soundtrack fue el mas escuchado en agosto, semanas despues de que se estrenó la cuarta temporada.</h3>
          </div>

          <div class="carousel-item">2</div>
          <div class="carousel-item">3</div>
          <div class="carousel-item">4</div>
          <div class="carousel-item">5</div>
        </div>
      </div>
      
    </section>

    <section id="cambio-popularidad">
      <h2>De mainstream a alternativo</h2>
    </section>

    <section id="top-5-canciones">
      <h2>Top 5 canciones: diversidad</h2>
    </section>
  

  <script>
    window.addEventListener('scroll', function() {

      var intro = document.getElementById('intro');
      var tiempoEscuchado = document.getElementById('tiempo-escuchado');
      var historiasDestacadas = document.getElementById('historias-destacadas');
      var cambioPopularidad = document.getElementById('cambio-popularidad');
      var top5Canciones = document.getElementById('top-5-canciones');

      var scrolled = window.pageYOffset;

      var firstTreshold = intro.clientHeight/1.5;
      var secondTreshold = firstTreshold + tiempoEscuchado.clientHeight/1.2 - 30;



      if(scrolled > firstTreshold && scrolled < secondTreshold) {
        intro.style.top = scrolled - firstTreshold + 'px';
      } else if (scrolled > secondTreshold) {
        tiempoEscuchado.style.top = scrolled - secondTreshold  + 'px';
      }


    });

  </script>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
  
  <!-- <script src="scripts/curves.js"></script>
  <script src="scripts/circle_viz.js"></script>
  <script src="scripts/live_viz.js"></script> -->
  <script src="scripts/tiempoStreaming.js"></script>
  <script src="scripts/carrousel.js"></script>

  
</body>

</html>
